import{i as u,r as o,j as t,B as l,h as f,F as x,u as g,k as h}from"./index-Cv_cWu_z.js";import{M as j}from"./MessageBox-Dv000bEq.js";import"./Dialog-IYbXO3No.js";import"./Modal-DhWrxs-h.js";import"./Close-BSi3nUmM.js";import"./Alert-D6qmSztc.js";function v(e){const n=new URL(e.url),m=u();n.searchParams.set("theme",m.palette.mode);const i=o.useRef(null),s=o.useRef(null),[r,a]=o.useState();return o.useEffect(()=>{r&&(r.onclick=()=>{var c;(c=i.current)==null||c.click()})},[r]),t.jsxs(l,{sx:{width:"100%",height:"100%"},ref:i,children:[t.jsx("iframe",{src:n.toString(),style:{display:"block",border:0,width:"100%",height:"100%"},ref:s,onLoad:()=>{var c,d;return a((d=(c=s.current)==null?void 0:c.contentDocument)==null?void 0:d.body)}}),e.children]})}const y=f(t.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Message");function b(e){return t.jsxs(l,{sx:e.sx,children:[t.jsx(x,{color:e.severity,sx:e.fabSx,onClick:e.onOpen,children:e.icon??t.jsx(y,{})}),t.jsx(j,{title:e.title,content:e.content,variant:e.variant,severity:e.severity,open:e.open,onClose:e.onClose,children:t.jsx(l,{children:e.children})})]})}function C(e){const{t:n}=g(),m=new URL(e.url),i=window.location.origin===m.origin?"info":"warning",s=()=>["warning","error"].includes(i),[r,a]=o.useState(s());return o.useEffect(()=>a(s()),[e.url,i]),t.jsx(l,{sx:{width:"100%",height:"100%"},children:t.jsx(v,{url:e.url,children:t.jsx(b,{open:r,title:n("common.notice"),content:n("frame.warning-message"),severity:i,variant:"standard",onOpen:()=>a(!0),sx:{position:"relative",top:0,bottom:0,left:0,right:0},fabSx:{position:"absolute",left:32,bottom:32,zIndex:10},children:t.jsxs(l,{display:"flex",gap:1,justifyContent:"flex-end",children:[t.jsx(h,{variant:"contained",color:i,href:m.toString(),target:"_blank",children:n("frame.go-to-source-page")}),t.jsx(h,{variant:"text",color:"inherit",onClick:()=>a(!1),children:n("common.close")})]})})})})}export{C as default};
