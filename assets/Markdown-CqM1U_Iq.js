var Bt=Object.defineProperty;var St=(o,e,t)=>e in o?Bt(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var A=(o,e,t)=>St(o,typeof e!="symbol"?e+"":e,t);import{r as le,j as d,B as $t,T as xe,D as _t,P as Mt}from"./index-C9DZtc18.js";import{H as He}from"./index-Csa-nKfc.js";import{C as Lt}from"./Chip-15ul4-Dj.js";import{L as qe}from"./Link-DPu81BmV.js";import{A as Oe}from"./Alert-Bq4LsUFJ.js";import{T as zt,a as Pt,b as Nt,c as Ze,d as Ve,e as jt}from"./TableRow-BI0Re9dX.js";function $e(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let F=$e();function nt(o){F=o}const rt=/[&<>"']/,Dt=new RegExp(rt.source,"g"),st=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,vt=new RegExp(st.source,"g"),Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qe=o=>Ut[o];function S(o,e){if(e){if(rt.test(o))return o.replace(Dt,Qe)}else if(st.test(o))return o.replace(vt,Qe);return o}const Ft=/(^|[^\[])\^/g;function C(o,e){let t=typeof o=="string"?o:o.source;e=e||"";const n={replace:(r,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(Ft,"$1"),t=t.replace(r,i),n},getRegex:()=>new RegExp(t,e)};return n}function Ke(o){try{o=encodeURI(o).replace(/%25/g,"%")}catch{return null}return o}const Y={exec:()=>null};function Je(o,e){const t=o.replace(/\|/g,(s,i,l)=>{let a=!1,u=i;for(;--u>=0&&l[u]==="\\";)a=!a;return a?"|":" |"}),n=t.split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function K(o,e,t){const n=o.length;if(n===0)return"";let r=0;for(;r<n;){const s=o.charAt(n-r-1);if(s===e&&!t)r++;else if(s!==e&&t)r++;else break}return o.slice(0,n-r)}function Ht(o,e){if(o.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<o.length;n++)if(o[n]==="\\")n++;else if(o[n]===e[0])t++;else if(o[n]===e[1]&&(t--,t<0))return n;return-1}function Ye(o,e,t,n){const r=e.href,s=e.title?S(e.title):null,i=o[1].replace(/\\([\[\]])/g,"$1");if(o[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:t,href:r,title:s,text:i,tokens:n.inlineTokens(i)};return n.state.inLink=!1,l}return{type:"image",raw:t,href:r,title:s,text:S(i)}}function qt(o,e){const t=o.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[i]=s;return i.length>=n.length?r.slice(n.length):r}).join(`
`)}class ae{constructor(e){A(this,"options");A(this,"rules");A(this,"lexer");this.options=e||F}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:K(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=qt(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const r=K(n,"#");(this.options.pedantic||!r||/ $/.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:K(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=K(t[0],`
`).split(`
`),r="",s="";const i=[];for(;n.length>0;){let l=!1;const a=[];let u;for(u=0;u<n.length;u++)if(/^ {0,3}>/.test(n[u]))a.push(n[u]),l=!0;else if(!l)a.push(n[u]);else break;n=n.slice(u);const c=a.join(`
`),p=c.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");r=r?`${r}
${c}`:c,s=s?`${s}
${p}`:p;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,i,!0),this.lexer.state.top=f,n.length===0)break;const h=i[i.length-1];if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){const g=h,m=g.raw+`
`+n.join(`
`),E=this.blockquote(m);i[i.length-1]=E,r=r.substring(0,r.length-g.raw.length)+E.raw,s=s.substring(0,s.length-g.text.length)+E.text;break}else if((h==null?void 0:h.type)==="list"){const g=h,m=g.raw+`
`+n.join(`
`),E=this.list(m);i[i.length-1]=E,r=r.substring(0,r.length-h.raw.length)+E.raw,s=s.substring(0,s.length-g.raw.length)+E.raw,n=m.substring(i[i.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l=!1;for(;e;){let a=!1,u="",c="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let p=t[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),f=e.split(`
`,1)[0],h=!p.trim(),g=0;if(this.options.pedantic?(g=2,c=p.trimStart()):h?g=t[1].length+1:(g=t[2].search(/[^ ]/),g=g>4?1:g,c=p.slice(g),g+=t[1].length),h&&/^[ \t]*$/.test(f)&&(u+=f+`
`,e=e.substring(f.length+1),a=!0),!a){const x=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,g-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),w=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,g-1)}}#`),T=new RegExp(`^ {0,${Math.min(3,g-1)}}<[a-z].*>`,"i");for(;e;){const R=e.split(`
`,1)[0];let I;if(f=R,this.options.pedantic?(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),I=f):I=f.replace(/\t/g,"    "),w.test(f)||k.test(f)||T.test(f)||x.test(f)||b.test(f))break;if(I.search(/[^ ]/)>=g||!f.trim())c+=`
`+I.slice(g);else{if(h||p.replace(/\t/g,"    ").search(/[^ ]/)>=4||w.test(p)||k.test(p)||b.test(p))break;c+=`
`+f}!h&&!f.trim()&&(h=!0),u+=R+`
`,e=e.substring(R.length+1),p=I.slice(g)}}s.loose||(l?s.loose=!0:/\n[ \t]*\n[ \t]*$/.test(u)&&(l=!0));let m=null,E;this.options.gfm&&(m=/^\[[ xX]\] /.exec(c),m&&(E=m[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:u,task:!!m,checked:E,loose:!1,text:c,tokens:[]}),s.raw+=u}s.items[s.items.length-1].raw=s.items[s.items.length-1].raw.trimEnd(),s.items[s.items.length-1].text=s.items[s.items.length-1].text.trimEnd(),s.raw=s.raw.trimEnd();for(let a=0;a<s.items.length;a++)if(this.lexer.state.top=!1,s.items[a].tokens=this.lexer.blockTokens(s.items[a].text,[]),!s.loose){const u=s.items[a].tokens.filter(p=>p.type==="space"),c=u.length>0&&u.some(p=>/\n.*\n/.test(p.raw));s.loose=c}if(s.loose)for(let a=0;a<s.items.length;a++)s.items[a].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const n=Je(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),s=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const l of r)/^ *-+: *$/.test(l)?i.align.push("right"):/^ *:-+: *$/.test(l)?i.align.push("center"):/^ *:-+ *$/.test(l)?i.align.push("left"):i.align.push(null);for(let l=0;l<n.length;l++)i.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:i.align[l]});for(const l of s)i.rows.push(Je(l,i.header.length).map((a,u)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[u]})));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:S(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const i=K(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{const i=Ht(t[2],"()");if(i>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);i&&(r=i[1],s=i[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),Ye(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(/\s+/g," "),s=t[r.toLowerCase()];if(!s){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Ye(n,s,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const i=[...r[0]].length-1;let l,a,u=i,c=0;const p=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+i);(r=p.exec(t))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(a=[...l].length,r[3]||r[4]){u+=a;continue}else if((r[5]||r[6])&&i%3&&!((i+a)%3)){c+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+c);const f=[...r[0]][0].length,h=e.slice(0,i+r.index+f+a);if(Math.min(i,a)%2){const m=h.slice(1,-1);return{type:"em",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}const g=h.slice(2,-2);return{type:"strong",raw:h,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const r=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return r&&s&&(n=n.substring(1,n.length-1)),n=S(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=S(t[1]),r="mailto:"+n):(n=S(t[1]),r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let r,s;if(t[2]==="@")r=S(t[0]),s="mailto:"+r;else{let i;do i=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(i!==t[0]);r=S(t[0]),t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let n;return this.lexer.state.inRawBlock?n=t[0]:n=S(t[0]),{type:"text",raw:t[0],text:n}}}}const Ot=/^(?:[ \t]*(?:\n|$))+/,Zt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Vt=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ee=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Qt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,it=/(?:[*+-]|\d{1,9}[.)])/,ot=C(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,it).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_e=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Kt=/^[^\n]+/,Me=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Jt=C(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Me).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Yt=C(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,it).getRegex(),ge="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Le=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Gt=C("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Le).replace("tag",ge).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),lt=C(_e).replace("hr",ee).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ge).getRegex(),Wt=C(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",lt).getRegex(),ze={blockquote:Wt,code:Zt,def:Jt,fences:Vt,heading:Qt,hr:ee,html:Gt,lheading:ot,list:Yt,newline:Ot,paragraph:lt,table:Y,text:Kt},Ge=C("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ee).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ge).getRegex(),Xt={...ze,table:Ge,paragraph:C(_e).replace("hr",ee).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ge).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ge).getRegex()},en={...ze,html:C(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Le).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Y,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:C(_e).replace("hr",ee).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ot).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},at=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tn=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ct=/^( {2,}|\\)\n(?!\s*$)/,nn=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,te="\\p{P}\\p{S}",rn=C(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,te).getRegex(),sn=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,on=C(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,te).getRegex(),ln=C("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,te).getRegex(),an=C("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,te).getRegex(),cn=C(/\\([punct])/,"gu").replace(/punct/g,te).getRegex(),un=C(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),hn=C(Le).replace("(?:-->|$)","-->").getRegex(),fn=C("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",hn).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ce=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,gn=C(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ce).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ut=C(/^!?\[(label)\]\[(ref)\]/).replace("label",ce).replace("ref",Me).getRegex(),ht=C(/^!?\[(ref)\](?:\[\])?/).replace("ref",Me).getRegex(),dn=C("reflink|nolink(?!\\()","g").replace("reflink",ut).replace("nolink",ht).getRegex(),Pe={_backpedal:Y,anyPunctuation:cn,autolink:un,blockSkip:sn,br:ct,code:tn,del:Y,emStrongLDelim:on,emStrongRDelimAst:ln,emStrongRDelimUnd:an,escape:at,link:gn,nolink:ht,punctuation:rn,reflink:ut,reflinkSearch:dn,tag:fn,text:nn,url:Y},pn={...Pe,link:C(/^!?\[(label)\]\((.*?)\)/).replace("label",ce).getRegex(),reflink:C(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ce).getRegex()},Ae={...Pe,escape:C(at).replace("])","~|])").getRegex(),url:C(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},mn={...Ae,br:C(ct).replace("{2,}","*").getRegex(),text:C(Ae.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},se={normal:ze,gfm:Xt,pedantic:en},J={normal:Pe,gfm:Ae,breaks:mn,pedantic:pn};class _{constructor(e){A(this,"tokens");A(this,"options");A(this,"state");A(this,"tokenizer");A(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||F,this.options.tokenizer=this.options.tokenizer||new ae,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:se.normal,inline:J.normal};this.options.pedantic?(t.block=se.pedantic,t.inline=J.pedantic):this.options.gfm&&(t.block=se.gfm,this.options.breaks?t.inline=J.breaks:t.inline=J.gfm),this.tokenizer.rules=t}static get rules(){return{block:se,inline:J}}static lex(e,t){return new _(t).lex(e)}static lexInline(e,t){return new _(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));let r,s,i;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},a),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(i=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){s=t[t.length-1],n&&(s==null?void 0:s.type)==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,s,i=e,l,a,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)c.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,l.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(n=c.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,i,u)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const p=e.slice(1);let f;this.options.extensions.startInline.forEach(h=>{f=h.call({lexer:this},p),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(s=e.substring(0,c+1))}if(n=this.tokenizer.inlineText(s)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}}class ue{constructor(e){A(this,"options");A(this,"parser");this.options=e||F}space(e){return""}code({text:e,lang:t,escaped:n}){var i;const r=(i=(t||"").match(/^\S*/))==null?void 0:i[0],s=e.replace(/\n$/,"")+`
`;return r?'<pre><code class="language-'+S(r)+'">'+(n?s:S(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:S(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let l=0;l<e.items.length;l++){const a=e.items[l];r+=this.listitem(a)}const s=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);t+=this.tablerow({text:n});let r="";for(let s=0;s<e.rows.length;s++){const i=e.rows[s];n="";for(let l=0;l<i.length;l++)n+=this.tablecell(i[l]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),s=Ke(e);if(s===null)return r;e=s;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n}){const r=Ke(e);if(r===null)return n;e=r;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Ne{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class M{constructor(e){A(this,"options");A(this,"renderer");A(this,"textRenderer");this.options=e||F,this.options.renderer=this.options.renderer||new ue,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ne}static parse(e,t){return new M(t).parse(e)}static parseInline(e,t){return new M(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=s,a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){n+=a||"";continue}}const i=s;switch(i.type){case"space":{n+=this.renderer.space(i);continue}case"hr":{n+=this.renderer.hr(i);continue}case"heading":{n+=this.renderer.heading(i);continue}case"code":{n+=this.renderer.code(i);continue}case"table":{n+=this.renderer.table(i);continue}case"blockquote":{n+=this.renderer.blockquote(i);continue}case"list":{n+=this.renderer.list(i);continue}case"html":{n+=this.renderer.html(i);continue}case"paragraph":{n+=this.renderer.paragraph(i);continue}case"text":{let l=i,a=this.renderer.text(l);for(;r+1<e.length&&e[r+1].type==="text";)l=e[++r],a+=`
`+this.renderer.text(l);t?n+=this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a}]}):n+=a;continue}default:{const l='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=l||"";continue}}const i=s;switch(i.type){case"escape":{n+=t.text(i);break}case"html":{n+=t.html(i);break}case"link":{n+=t.link(i);break}case"image":{n+=t.image(i);break}case"strong":{n+=t.strong(i);break}case"em":{n+=t.em(i);break}case"codespan":{n+=t.codespan(i);break}case"br":{n+=t.br(i);break}case"del":{n+=t.del(i);break}case"text":{n+=t.text(i);break}default:{const l='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}}class G{constructor(e){A(this,"options");A(this,"block");this.options=e||F}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?_.lex:_.lexInline}provideParser(){return this.block?M.parse:M.parseInline}}A(G,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class kn{constructor(...e){A(this,"defaults",$e());A(this,"options",this.setOptions);A(this,"parse",this.parseMarkdown(!0));A(this,"parseInline",this.parseMarkdown(!1));A(this,"Parser",M);A(this,"Renderer",ue);A(this,"TextRenderer",Ne);A(this,"Lexer",_);A(this,"Tokenizer",ae);A(this,"Hooks",G);this.use(...e)}walkTokens(e,t){var r,s;let n=[];for(const i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{const l=i;for(const a of l.header)n=n.concat(this.walkTokens(a.tokens,t));for(const a of l.rows)for(const u of a)n=n.concat(this.walkTokens(u.tokens,t));break}case"list":{const l=i;n=n.concat(this.walkTokens(l.items,t));break}default:{const l=i;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[l.type]?this.defaults.extensions.childTokens[l.type].forEach(a=>{const u=l[a].flat(1/0);n=n.concat(this.walkTokens(u,t))}):l.tokens&&(n=n.concat(this.walkTokens(l.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const i=t.renderers[s.name];i?t.renderers[s.name]=function(...l){let a=s.renderer.apply(this,l);return a===!1&&(a=i.apply(this,l)),a}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=t[s.level];i?i.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),r.extensions=t),n.renderer){const s=this.defaults.renderer||new ue(this.defaults);for(const i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const l=i,a=n.renderer[l],u=s[l];s[l]=(...c)=>{let p=a.apply(s,c);return p===!1&&(p=u.apply(s,c)),p||""}}r.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new ae(this.defaults);for(const i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const l=i,a=n.tokenizer[l],u=s[l];s[l]=(...c)=>{let p=a.apply(s,c);return p===!1&&(p=u.apply(s,c)),p}}r.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new G;for(const i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const l=i,a=n.hooks[l],u=s[l];G.passThroughHooks.has(i)?s[l]=c=>{if(this.defaults.async)return Promise.resolve(a.call(s,c)).then(f=>u.call(s,f));const p=a.call(s,c);return u.call(s,p)}:s[l]=(...c)=>{let p=a.apply(s,c);return p===!1&&(p=u.apply(s,c)),p}}r.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(l){let a=[];return a.push(i.call(this,l)),s&&(a=a.concat(s.call(this,l))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return _.lex(e,t??this.defaults)}parser(e,t){return M.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{const s={...r},i={...this.defaults,...s},l=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&s.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);const a=i.hooks?i.hooks.provideLexer():e?_.lex:_.lexInline,u=i.hooks?i.hooks.provideParser():e?M.parse:M.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(c=>a(c,i)).then(c=>i.hooks?i.hooks.processAllTokens(c):c).then(c=>i.walkTokens?Promise.all(this.walkTokens(c,i.walkTokens)).then(()=>c):c).then(c=>u(c,i)).then(c=>i.hooks?i.hooks.postprocess(c):c).catch(l);try{i.hooks&&(n=i.hooks.preprocess(n));let c=a(n,i);i.hooks&&(c=i.hooks.processAllTokens(c)),i.walkTokens&&this.walkTokens(c,i.walkTokens);let p=u(c,i);return i.hooks&&(p=i.hooks.postprocess(p)),p}catch(c){return l(c)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+S(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}}const U=new kn;function y(o,e){return U.parse(o,e)}y.options=y.setOptions=function(o){return U.setOptions(o),y.defaults=U.defaults,nt(y.defaults),y};y.getDefaults=$e;y.defaults=F;y.use=function(...o){return U.use(...o),y.defaults=U.defaults,nt(y.defaults),y};y.walkTokens=function(o,e){return U.walkTokens(o,e)};y.parseInline=U.parseInline;y.Parser=M;y.parser=M.parse;y.Renderer=ue;y.TextRenderer=Ne;y.Lexer=_;y.lexer=_.lex;y.Tokenizer=ae;y.Hooks=G;y.parse=y;y.options;y.setOptions;y.use;y.walkTokens;y.parseInline;M.parse;_.lex;var ne={},wn=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ft={},$={};let je;const xn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};$.getSymbolTotalCodewords=function(e){return xn[e]};$.getBCHDigit=function(o){let e=0;for(;o!==0;)e++,o>>>=1;return e};$.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');je=e};$.isKanjiModeEnabled=function(){return typeof je<"u"};$.toSJIS=function(e){return je(e)};var de={};(function(o){o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+t)}}o.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},o.from=function(n,r){if(o.isValid(n))return n;try{return e(n)}catch{return r}}})(de);function gt(){this.buffer=[],this.length=0}gt.prototype={get:function(o){const e=Math.floor(o/8);return(this.buffer[e]>>>7-o%8&1)===1},put:function(o,e){for(let t=0;t<e;t++)this.putBit((o>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),o&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var bn=gt;function re(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}re.prototype.set=function(o,e,t,n){const r=o*this.size+e;this.data[r]=t,n&&(this.reservedBit[r]=!0)};re.prototype.get=function(o,e){return this.data[o*this.size+e]};re.prototype.xor=function(o,e,t){this.data[o*this.size+e]^=t};re.prototype.isReserved=function(o,e){return this.reservedBit[o*this.size+e]};var yn=re,dt={};(function(o){const e=$.getSymbolSize;o.getRowColCoords=function(n){if(n===1)return[];const r=Math.floor(n/7)+2,s=e(n),i=s===145?26:Math.ceil((s-13)/(2*r-2))*2,l=[s-7];for(let a=1;a<r-1;a++)l[a]=l[a-1]-i;return l.push(6),l.reverse()},o.getPositions=function(n){const r=[],s=o.getRowColCoords(n),i=s.length;for(let l=0;l<i;l++)for(let a=0;a<i;a++)l===0&&a===0||l===0&&a===i-1||l===i-1&&a===0||r.push([s[l],s[a]]);return r}})(dt);var pt={};const En=$.getSymbolSize,We=7;pt.getPositions=function(e){const t=En(e);return[[0,0],[t-We,0],[0,t-We]]};var mt={};(function(o){o.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};o.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},o.from=function(r){return o.isValid(r)?parseInt(r,10):void 0},o.getPenaltyN1=function(r){const s=r.size;let i=0,l=0,a=0,u=null,c=null;for(let p=0;p<s;p++){l=a=0,u=c=null;for(let f=0;f<s;f++){let h=r.get(p,f);h===u?l++:(l>=5&&(i+=e.N1+(l-5)),u=h,l=1),h=r.get(f,p),h===c?a++:(a>=5&&(i+=e.N1+(a-5)),c=h,a=1)}l>=5&&(i+=e.N1+(l-5)),a>=5&&(i+=e.N1+(a-5))}return i},o.getPenaltyN2=function(r){const s=r.size;let i=0;for(let l=0;l<s-1;l++)for(let a=0;a<s-1;a++){const u=r.get(l,a)+r.get(l,a+1)+r.get(l+1,a)+r.get(l+1,a+1);(u===4||u===0)&&i++}return i*e.N2},o.getPenaltyN3=function(r){const s=r.size;let i=0,l=0,a=0;for(let u=0;u<s;u++){l=a=0;for(let c=0;c<s;c++)l=l<<1&2047|r.get(u,c),c>=10&&(l===1488||l===93)&&i++,a=a<<1&2047|r.get(c,u),c>=10&&(a===1488||a===93)&&i++}return i*e.N3},o.getPenaltyN4=function(r){let s=0;const i=r.data.length;for(let a=0;a<i;a++)s+=r.data[a];return Math.abs(Math.ceil(s*100/i/5)-10)*e.N4};function t(n,r,s){switch(n){case o.Patterns.PATTERN000:return(r+s)%2===0;case o.Patterns.PATTERN001:return r%2===0;case o.Patterns.PATTERN010:return s%3===0;case o.Patterns.PATTERN011:return(r+s)%3===0;case o.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(s/3))%2===0;case o.Patterns.PATTERN101:return r*s%2+r*s%3===0;case o.Patterns.PATTERN110:return(r*s%2+r*s%3)%2===0;case o.Patterns.PATTERN111:return(r*s%3+(r+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}o.applyMask=function(r,s){const i=s.size;for(let l=0;l<i;l++)for(let a=0;a<i;a++)s.isReserved(a,l)||s.xor(a,l,t(r,a,l))},o.getBestMask=function(r,s){const i=Object.keys(o.Patterns).length;let l=0,a=1/0;for(let u=0;u<i;u++){s(u),o.applyMask(u,r);const c=o.getPenaltyN1(r)+o.getPenaltyN2(r)+o.getPenaltyN3(r)+o.getPenaltyN4(r);o.applyMask(u,r),c<a&&(a=c,l=u)}return l}})(mt);var pe={};const D=de,ie=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],oe=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pe.getBlocksCount=function(e,t){switch(t){case D.L:return ie[(e-1)*4+0];case D.M:return ie[(e-1)*4+1];case D.Q:return ie[(e-1)*4+2];case D.H:return ie[(e-1)*4+3];default:return}};pe.getTotalCodewordsCount=function(e,t){switch(t){case D.L:return oe[(e-1)*4+0];case D.M:return oe[(e-1)*4+1];case D.Q:return oe[(e-1)*4+2];case D.H:return oe[(e-1)*4+3];default:return}};var kt={},me={};const W=new Uint8Array(512),he=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)W[t]=e,he[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)W[t]=W[t-255]})();me.log=function(e){if(e<1)throw new Error("log("+e+")");return he[e]};me.exp=function(e){return W[e]};me.mul=function(e,t){return e===0||t===0?0:W[he[e]+he[t]]};(function(o){const e=me;o.mul=function(n,r){const s=new Uint8Array(n.length+r.length-1);for(let i=0;i<n.length;i++)for(let l=0;l<r.length;l++)s[i+l]^=e.mul(n[i],r[l]);return s},o.mod=function(n,r){let s=new Uint8Array(n);for(;s.length-r.length>=0;){const i=s[0];for(let a=0;a<r.length;a++)s[a]^=e.mul(r[a],i);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},o.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let s=0;s<n;s++)r=o.mul(r,new Uint8Array([1,e.exp(s)]));return r}})(kt);const wt=kt;function De(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}De.prototype.initialize=function(e){this.degree=e,this.genPoly=wt.generateECPolynomial(this.degree)};De.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=wt.mod(t,this.genPoly),r=this.degree-n.length;if(r>0){const s=new Uint8Array(this.degree);return s.set(n,r),s}return n};var Tn=De,xt={},v={},ve={};ve.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var P={};const bt="[0-9]+",Cn="[A-Z $%*+\\-./:]+";let X="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";X=X.replace(/u/g,"\\u");const An="(?:(?![A-Z0-9 $%*+\\-./:]|"+X+`)(?:.|[\r
]))+`;P.KANJI=new RegExp(X,"g");P.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");P.BYTE=new RegExp(An,"g");P.NUMERIC=new RegExp(bt,"g");P.ALPHANUMERIC=new RegExp(Cn,"g");const Rn=new RegExp("^"+X+"$"),In=new RegExp("^"+bt+"$"),Bn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");P.testKanji=function(e){return Rn.test(e)};P.testNumeric=function(e){return In.test(e)};P.testAlphanumeric=function(e){return Bn.test(e)};(function(o){const e=ve,t=P;o.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(s,i){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?s.ccBits[0]:i<27?s.ccBits[1]:s.ccBits[2]},o.getBestModeForData=function(s){return t.testNumeric(s)?o.NUMERIC:t.testAlphanumeric(s)?o.ALPHANUMERIC:t.testKanji(s)?o.KANJI:o.BYTE},o.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},o.isValid=function(s){return s&&s.bit&&s.ccBits};function n(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+r)}}o.from=function(s,i){if(o.isValid(s))return s;try{return n(s)}catch{return i}}})(v);(function(o){const e=$,t=pe,n=de,r=v,s=ve,i=7973,l=e.getBCHDigit(i);function a(f,h,g){for(let m=1;m<=40;m++)if(h<=o.getCapacity(m,g,f))return m}function u(f,h){return r.getCharCountIndicator(f,h)+4}function c(f,h){let g=0;return f.forEach(function(m){const E=u(m.mode,h);g+=E+m.getBitsLength()}),g}function p(f,h){for(let g=1;g<=40;g++)if(c(f,g)<=o.getCapacity(g,h,r.MIXED))return g}o.from=function(h,g){return s.isValid(h)?parseInt(h,10):g},o.getCapacity=function(h,g,m){if(!s.isValid(h))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=r.BYTE);const E=e.getSymbolTotalCodewords(h),x=t.getTotalCodewordsCount(h,g),b=(E-x)*8;if(m===r.MIXED)return b;const w=b-u(m,h);switch(m){case r.NUMERIC:return Math.floor(w/10*3);case r.ALPHANUMERIC:return Math.floor(w/11*2);case r.KANJI:return Math.floor(w/13);case r.BYTE:default:return Math.floor(w/8)}},o.getBestVersionForData=function(h,g){let m;const E=n.from(g,n.M);if(Array.isArray(h)){if(h.length>1)return p(h,E);if(h.length===0)return 1;m=h[0]}else m=h;return a(m.mode,m.getLength(),E)},o.getEncodedBits=function(h){if(!s.isValid(h)||h<7)throw new Error("Invalid QR Code version");let g=h<<12;for(;e.getBCHDigit(g)-l>=0;)g^=i<<e.getBCHDigit(g)-l;return h<<12|g}})(xt);var yt={};const Re=$,Et=1335,Sn=21522,Xe=Re.getBCHDigit(Et);yt.getEncodedBits=function(e,t){const n=e.bit<<3|t;let r=n<<10;for(;Re.getBCHDigit(r)-Xe>=0;)r^=Et<<Re.getBCHDigit(r)-Xe;return(n<<10|r)^Sn};var Tt={};const $n=v;function q(o){this.mode=$n.NUMERIC,this.data=o.toString()}q.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};q.prototype.getLength=function(){return this.data.length};q.prototype.getBitsLength=function(){return q.getBitsLength(this.data.length)};q.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const s=this.data.length-t;s>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,s*3+1))};var _n=q;const Mn=v,be=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function O(o){this.mode=Mn.ALPHANUMERIC,this.data=o}O.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};O.prototype.getLength=function(){return this.data.length};O.prototype.getBitsLength=function(){return O.getBitsLength(this.data.length)};O.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=be.indexOf(this.data[t])*45;n+=be.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(be.indexOf(this.data[t]),6)};var Ln=O;const zn=v;function Z(o){this.mode=zn.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}Z.getBitsLength=function(e){return e*8};Z.prototype.getLength=function(){return this.data.length};Z.prototype.getBitsLength=function(){return Z.getBitsLength(this.data.length)};Z.prototype.write=function(o){for(let e=0,t=this.data.length;e<t;e++)o.put(this.data[e],8)};var Pn=Z;const Nn=v,jn=$;function V(o){this.mode=Nn.KANJI,this.data=o}V.getBitsLength=function(e){return e*13};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(o){let e;for(e=0;e<this.data.length;e++){let t=jn.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),o.put(t,13)}};var Dn=V,Ct={exports:{}};(function(o){var e={single_source_shortest_paths:function(t,n,r){var s={},i={};i[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var a,u,c,p,f,h,g,m,E;!l.empty();){a=l.pop(),u=a.value,p=a.cost,f=t[u]||{};for(c in f)f.hasOwnProperty(c)&&(h=f[c],g=p+h,m=i[c],E=typeof i[c]>"u",(E||m>g)&&(i[c]=g,l.push(c,g),s[c]=u))}if(typeof r<"u"&&typeof i[r]>"u"){var x=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(x)}return s},extract_shortest_path_from_predecessor_list:function(t,n){for(var r=[],s=n;s;)r.push(s),t[s],s=t[s];return r.reverse(),r},find_path:function(t,n,r){var s=e.single_source_shortest_paths(t,n,r);return e.extract_shortest_path_from_predecessor_list(s,r)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,r={},s;t=t||{};for(s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var r={value:t,cost:n};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};o.exports=e})(Ct);var vn=Ct.exports;(function(o){const e=v,t=_n,n=Ln,r=Pn,s=Dn,i=P,l=$,a=vn;function u(x){return unescape(encodeURIComponent(x)).length}function c(x,b,w){const k=[];let T;for(;(T=x.exec(w))!==null;)k.push({data:T[0],index:T.index,mode:b,length:T[0].length});return k}function p(x){const b=c(i.NUMERIC,e.NUMERIC,x),w=c(i.ALPHANUMERIC,e.ALPHANUMERIC,x);let k,T;return l.isKanjiModeEnabled()?(k=c(i.BYTE,e.BYTE,x),T=c(i.KANJI,e.KANJI,x)):(k=c(i.BYTE_KANJI,e.BYTE,x),T=[]),b.concat(w,k,T).sort(function(I,L){return I.index-L.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function f(x,b){switch(b){case e.NUMERIC:return t.getBitsLength(x);case e.ALPHANUMERIC:return n.getBitsLength(x);case e.KANJI:return s.getBitsLength(x);case e.BYTE:return r.getBitsLength(x)}}function h(x){return x.reduce(function(b,w){const k=b.length-1>=0?b[b.length-1]:null;return k&&k.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function g(x){const b=[];for(let w=0;w<x.length;w++){const k=x[w];switch(k.mode){case e.NUMERIC:b.push([k,{data:k.data,mode:e.ALPHANUMERIC,length:k.length},{data:k.data,mode:e.BYTE,length:k.length}]);break;case e.ALPHANUMERIC:b.push([k,{data:k.data,mode:e.BYTE,length:k.length}]);break;case e.KANJI:b.push([k,{data:k.data,mode:e.BYTE,length:u(k.data)}]);break;case e.BYTE:b.push([{data:k.data,mode:e.BYTE,length:u(k.data)}])}}return b}function m(x,b){const w={},k={start:{}};let T=["start"];for(let R=0;R<x.length;R++){const I=x[R],L=[];for(let j=0;j<I.length;j++){const z=I[j],Q=""+R+j;L.push(Q),w[Q]={node:z,lastCount:0},k[Q]={};for(let we=0;we<T.length;we++){const N=T[we];w[N]&&w[N].node.mode===z.mode?(k[N][Q]=f(w[N].lastCount+z.length,z.mode)-f(w[N].lastCount,z.mode),w[N].lastCount+=z.length):(w[N]&&(w[N].lastCount=z.length),k[N][Q]=f(z.length,z.mode)+4+e.getCharCountIndicator(z.mode,b))}}T=L}for(let R=0;R<T.length;R++)k[T[R]].end=0;return{map:k,table:w}}function E(x,b){let w;const k=e.getBestModeForData(x);if(w=e.from(b,k),w!==e.BYTE&&w.bit<k.bit)throw new Error('"'+x+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(k));switch(w===e.KANJI&&!l.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new t(x);case e.ALPHANUMERIC:return new n(x);case e.KANJI:return new s(x);case e.BYTE:return new r(x)}}o.fromArray=function(b){return b.reduce(function(w,k){return typeof k=="string"?w.push(E(k,null)):k.data&&w.push(E(k.data,k.mode)),w},[])},o.fromString=function(b,w){const k=p(b,l.isKanjiModeEnabled()),T=g(k),R=m(T,w),I=a.find_path(R.map,"start","end"),L=[];for(let j=1;j<I.length-1;j++)L.push(R.table[I[j]].node);return o.fromArray(h(L))},o.rawSplit=function(b){return o.fromArray(p(b,l.isKanjiModeEnabled()))}})(Tt);const ke=$,ye=de,Un=bn,Fn=yn,Hn=dt,qn=pt,Ie=mt,Be=pe,On=Tn,fe=xt,Zn=yt,Vn=v,Ee=Tt;function Qn(o,e){const t=o.size,n=qn.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let l=-1;l<=7;l++)if(!(s+l<=-1||t<=s+l))for(let a=-1;a<=7;a++)i+a<=-1||t<=i+a||(l>=0&&l<=6&&(a===0||a===6)||a>=0&&a<=6&&(l===0||l===6)||l>=2&&l<=4&&a>=2&&a<=4?o.set(s+l,i+a,!0,!0):o.set(s+l,i+a,!1,!0))}}function Kn(o){const e=o.size;for(let t=8;t<e-8;t++){const n=t%2===0;o.set(t,6,n,!0),o.set(6,t,n,!0)}}function Jn(o,e){const t=Hn.getPositions(e);for(let n=0;n<t.length;n++){const r=t[n][0],s=t[n][1];for(let i=-2;i<=2;i++)for(let l=-2;l<=2;l++)i===-2||i===2||l===-2||l===2||i===0&&l===0?o.set(r+i,s+l,!0,!0):o.set(r+i,s+l,!1,!0)}}function Yn(o,e){const t=o.size,n=fe.getEncodedBits(e);let r,s,i;for(let l=0;l<18;l++)r=Math.floor(l/3),s=l%3+t-8-3,i=(n>>l&1)===1,o.set(r,s,i,!0),o.set(s,r,i,!0)}function Te(o,e,t){const n=o.size,r=Zn.getEncodedBits(e,t);let s,i;for(s=0;s<15;s++)i=(r>>s&1)===1,s<6?o.set(s,8,i,!0):s<8?o.set(s+1,8,i,!0):o.set(n-15+s,8,i,!0),s<8?o.set(8,n-s-1,i,!0):s<9?o.set(8,15-s-1+1,i,!0):o.set(8,15-s-1,i,!0);o.set(n-8,8,1,!0)}function Gn(o,e){const t=o.size;let n=-1,r=t-1,s=7,i=0;for(let l=t-1;l>0;l-=2)for(l===6&&l--;;){for(let a=0;a<2;a++)if(!o.isReserved(r,l-a)){let u=!1;i<e.length&&(u=(e[i]>>>s&1)===1),o.set(r,l-a,u),s--,s===-1&&(i++,s=7)}if(r+=n,r<0||t<=r){r-=n,n=-n;break}}}function Wn(o,e,t){const n=new Un;t.forEach(function(a){n.put(a.mode.bit,4),n.put(a.getLength(),Vn.getCharCountIndicator(a.mode,o)),a.write(n)});const r=ke.getSymbolTotalCodewords(o),s=Be.getTotalCodewordsCount(o,e),i=(r-s)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(i-n.getLengthInBits())/8;for(let a=0;a<l;a++)n.put(a%2?17:236,8);return Xn(n,o,e)}function Xn(o,e,t){const n=ke.getSymbolTotalCodewords(e),r=Be.getTotalCodewordsCount(e,t),s=n-r,i=Be.getBlocksCount(e,t),l=n%i,a=i-l,u=Math.floor(n/i),c=Math.floor(s/i),p=c+1,f=u-c,h=new On(f);let g=0;const m=new Array(i),E=new Array(i);let x=0;const b=new Uint8Array(o.buffer);for(let I=0;I<i;I++){const L=I<a?c:p;m[I]=b.slice(g,g+L),E[I]=h.encode(m[I]),g+=L,x=Math.max(x,L)}const w=new Uint8Array(n);let k=0,T,R;for(T=0;T<x;T++)for(R=0;R<i;R++)T<m[R].length&&(w[k++]=m[R][T]);for(T=0;T<f;T++)for(R=0;R<i;R++)w[k++]=E[R][T];return w}function er(o,e,t,n){let r;if(Array.isArray(o))r=Ee.fromArray(o);else if(typeof o=="string"){let u=e;if(!u){const c=Ee.rawSplit(o);u=fe.getBestVersionForData(c,t)}r=Ee.fromString(o,u||40)}else throw new Error("Invalid data");const s=fe.getBestVersionForData(r,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const i=Wn(e,t,r),l=ke.getSymbolSize(e),a=new Fn(l);return Qn(a,e),Kn(a),Jn(a,e),Te(a,t,0),e>=7&&Yn(a,e),Gn(a,i),isNaN(n)&&(n=Ie.getBestMask(a,Te.bind(null,a,t))),Ie.applyMask(n,a),Te(a,t,n),{modules:a,version:e,errorCorrectionLevel:t,maskPattern:n,segments:r}}ft.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=ye.M,r,s;return typeof t<"u"&&(n=ye.from(t.errorCorrectionLevel,ye.M),r=fe.from(t.version),s=Ie.from(t.maskPattern),t.toSJISFunc&&ke.setToSJISFunction(t.toSJISFunc)),er(e,r,n,s)};var At={},Ue={};(function(o){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const r=parseInt(n.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+n.slice(0,6).join("")}}o.getOptions=function(n){n||(n={}),n.color||(n.color={});const r=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:s,scale:s?4:i,margin:r,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},o.getScale=function(n,r){return r.width&&r.width>=n+r.margin*2?r.width/(n+r.margin*2):r.scale},o.getImageWidth=function(n,r){const s=o.getScale(n,r);return Math.floor((n+r.margin*2)*s)},o.qrToImageData=function(n,r,s){const i=r.modules.size,l=r.modules.data,a=o.getScale(i,s),u=Math.floor((i+s.margin*2)*a),c=s.margin*a,p=[s.color.light,s.color.dark];for(let f=0;f<u;f++)for(let h=0;h<u;h++){let g=(f*u+h)*4,m=s.color.light;if(f>=c&&h>=c&&f<u-c&&h<u-c){const E=Math.floor((f-c)/a),x=Math.floor((h-c)/a);m=p[l[E*i+x]?1:0]}n[g++]=m.r,n[g++]=m.g,n[g++]=m.b,n[g]=m.a}}})(Ue);(function(o){const e=Ue;function t(r,s,i){r.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=i,s.width=i,s.style.height=i+"px",s.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}o.render=function(s,i,l){let a=l,u=i;typeof a>"u"&&(!i||!i.getContext)&&(a=i,i=void 0),i||(u=n()),a=e.getOptions(a);const c=e.getImageWidth(s.modules.size,a),p=u.getContext("2d"),f=p.createImageData(c,c);return e.qrToImageData(f.data,s,a),t(p,u,c),p.putImageData(f,0,0),u},o.renderToDataURL=function(s,i,l){let a=l;typeof a>"u"&&(!i||!i.getContext)&&(a=i,i=void 0),a||(a={});const u=o.render(s,i,a),c=a.type||"image/png",p=a.rendererOpts||{};return u.toDataURL(c,p.quality)}})(At);var Rt={};const tr=Ue;function et(o,e){const t=o.a/255,n=e+'="'+o.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function Ce(o,e,t){let n=o+e;return typeof t<"u"&&(n+=" "+t),n}function nr(o,e,t){let n="",r=0,s=!1,i=0;for(let l=0;l<o.length;l++){const a=Math.floor(l%e),u=Math.floor(l/e);!a&&!s&&(s=!0),o[l]?(i++,l>0&&a>0&&o[l-1]||(n+=s?Ce("M",a+t,.5+u+t):Ce("m",r,0),r=0,s=!1),a+1<e&&o[l+1]||(n+=Ce("h",i),i=0)):r++}return n}Rt.render=function(e,t,n){const r=tr.getOptions(t),s=e.modules.size,i=e.modules.data,l=s+r.margin*2,a=r.color.light.a?"<path "+et(r.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+et(r.color.dark,"stroke")+' d="'+nr(i,s,r.margin)+'"/>',c='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+c+' shape-rendering="crispEdges">'+a+u+`</svg>
`;return typeof n=="function"&&n(null,f),f};const rr=wn,Se=ft,It=At,sr=Rt;function Fe(o,e,t,n,r){const s=[].slice.call(arguments,1),i=s.length,l=typeof s[i-1]=="function";if(!l&&!rr())throw new Error("Callback required as last argument");if(l){if(i<2)throw new Error("Too few arguments provided");i===2?(r=t,t=e,e=n=void 0):i===3&&(e.getContext&&typeof r>"u"?(r=n,n=void 0):(r=n,n=t,t=e,e=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(t=e,e=n=void 0):i===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(a,u){try{const c=Se.create(t,n);a(o(c,e,n))}catch(c){u(c)}})}try{const a=Se.create(t,n);r(null,o(a,e,n))}catch(a){r(a)}}ne.create=Se.create;ne.toCanvas=Fe.bind(null,It.render);ne.toDataURL=Fe.bind(null,It.renderToDataURL);ne.toString=Fe.bind(null,function(o,e,t){return sr.render(o,t)});function ir(o){const[e,t]=le.useState("");return le.useEffect(()=>{ne.toDataURL(o.content,(n,r)=>t(r))},[o.content]),d.jsx("img",{src:e})}function tt(o){const e=document.createElement("div");return e.textContent=o,e.innerHTML}function H(o){const e=document.createElement("div");return e.innerHTML=o,e.textContent??""}function wr(o,e){return new Promise((t,n)=>{const r=new y.Renderer;e.contentDocument.head.innerHTML="",e.contentDocument.body.innerHTML="",r.heading=({text:s,depth:i})=>{const l=H(s).replace(/\s+/g,"-");return`<h${i} id=${l}>${s}</h${i}>`},y.parse(o,{async:!0,renderer:r}).then(s=>{var i;try{e.contentDocument.body.className="markdown-body",e.contentDocument.body.innerHTML=s;const l=e.contentDocument.createElement("link");l.rel="stylesheet",l.href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/github.min.css",e.contentDocument.head.append(l);const a=e.contentDocument.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js",e.contentDocument.head.append(a);const u=e.contentDocument.createElement("link");u.rel="stylesheet",u.href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.7.0/github-markdown.min.css",e.contentDocument.head.append(u);const c=e.contentDocument.createElement("style");c.textContent="code * {white-space:pre-wrap; }",e.contentDocument.head.append(c);const p=(i=e==null?void 0:e.contentDocument)==null?void 0:i.querySelectorAll("img, script, link"),f=[];for(const h of p??[])f.push(new Promise((g,m)=>{h.onload=()=>{g()},h.onerror=()=>{m()}}));Promise.all(f).then(()=>{t()}).catch(h=>{n(h)}).finally(()=>{const h=e.contentDocument.createElement("script");h.textContent="hljs.highlightAll();",e.contentDocument.body.append(h),e.contentWindow.print()})}catch(l){n(l)}})})}const or=["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"],lr=["primary","secondary","success","error","info","warning"],ar=["left","center","right","justify"],cr=["success","info","warning","error"],ur=["standard","filled","outlined"];function B(o){switch(o.token.type){case"space":return d.jsx(d.Fragment,{children:" "});case"code":{const e=o.token,t=e.lang&&He.getLanguage(e.lang||"plaintext")?e.lang:"plaintext",n=He.highlight(e.text,{language:t,ignoreIllegals:!0}).value;return d.jsx("pre",{className:`language-${t} hljs`,style:{overflow:"auto",padding:"8px"},children:d.jsx("code",{dangerouslySetInnerHTML:{__html:n}})})}case"heading":{const e=o.token,t=/^\[!(.+)\]\s*/.exec(e.text),n=e.text.replace(/^\[!(.+)\]\s*/,"");if(t){const r=t[1].split(","),s=r.length>0&&or.includes(r[0].trim())?r[0].trim():`h${e.depth}`,i=r.length>1&&lr.includes(r[1].trim())?r[1].trim():"inherit",l=r.length>2&&ar.includes(r[2].trim())?r[2].trim():"inherit";return d.jsx(xe,{id:tt(n).replace(/\s+/g,"-"),variant:s,color:i,align:l,children:e.tokens.map((a,u)=>d.jsx(B,{token:a},u))})}else return d.jsx(xe,{id:tt(e.text).replace(/\s+/g,"-"),variant:`h${e.depth}`,children:e.tokens.map((r,s)=>d.jsx(B,{token:r},s))})}case"table":{const e=o.token;return d.jsx(zt,{component:Mt,sx:{marginBlock:"8px"},children:d.jsxs(Pt,{children:[d.jsx(Nt,{children:d.jsx(Ze,{children:e.header.map((t,n)=>d.jsx(Ve,{align:t.align??void 0,children:t.tokens.map((r,s)=>d.jsx("strong",{children:d.jsx(B,{token:r})},s))},n))})}),d.jsx(jt,{children:e.rows.map((t,n)=>d.jsx(Ze,{children:t.map((r,s)=>d.jsx(Ve,{align:r.align??void 0,children:r.tokens.map((i,l)=>d.jsx(B,{token:i},l))},s))},n))})]})})}case"hr":return d.jsx(_t,{});case"blockquote":{const e=o.token,t=/^\[!(.+)\]\s*/.exec(e.text);if(t){const n=t[1].split(","),r=n.length>0&&cr.includes(n[0].trim())?n[0].trim():"info",s=n.length>1&&ur.includes(n[1].trim())?n[1].trim():"standard";return d.jsx(Oe,{severity:r,variant:s,sx:{marginBlock:"8px"},children:e.tokens.map((i,l)=>d.jsx(B,{token:i},l))})}else return d.jsx(Oe,{severity:"info",sx:{marginBlock:"8px"},children:e.tokens.map((n,r)=>d.jsx(B,{token:n},r))})}case"list":{const e=o.token;return e.ordered?d.jsx("ol",{children:e.items.map((t,n)=>d.jsx(B,{token:t},n))}):d.jsx("ul",{children:e.items.map((t,n)=>d.jsx(B,{token:t},n))})}case"list_item":{const e=o.token;return d.jsx("li",{children:e.tokens.map((t,n)=>d.jsx(B,{token:t},n))})}case"paragraph":{const e=o.token;let t=[];return e.tokens.length>1&&/^\[!.+\]\s*$/.test(e.tokens[0].raw)?t=e.tokens.slice(e.tokens[1].type==="br"?2:1):e.tokens.length>0&&/^\[!.+\]\s*$/.test(e.tokens[0].raw)?t=e.tokens.slice(1):t=e.tokens,d.jsx(xe,{variant:"body1",children:t.map((n,r)=>d.jsx(B,{token:n},r))})}case"html":{const e=o.token;return d.jsx("span",{dangerouslySetInnerHTML:{__html:e.raw}})}case"text":{const e=o.token;if(e.tokens)return d.jsx(d.Fragment,{children:e.tokens.map((t,n)=>d.jsx(B,{token:t},n))});if(e.text.match(/{#[a-zA-Z_]+[a-zA-Z_0-9]*}/g)){const t=e.text.match(/{#[a-zA-Z_]+[a-zA-Z_0-9]*}/g),n=e.text.split(/{#[a-zA-Z_]+[a-zA-Z_0-9]*}/g);return d.jsxs("span",{children:[t.map((r,s)=>d.jsx("span",{id:r.slice(2,-1)},s)),n.map((r,s)=>d.jsx("span",{children:H(r)},s))]})}else return/^\[!.+\]\s*/.test(e.text)?d.jsx(d.Fragment,{children:H(e.text.replace(/^\[!.+\]\s*/,""))}):d.jsx(d.Fragment,{children:H(e.text)})}case"def":return d.jsx("div",{children:"TODO:def"});case"escape":{const e=o.token;return d.jsx(d.Fragment,{children:H(e.text)})}case"tag":return d.jsx("div",{children:"TODO:tag"});case"image":{const e=o.token;return d.jsx("img",{src:e.href,style:{maxWidth:"100%"},title:e.title??"",alt:e.text})}case"link":{const e=o.token;if(e.href.startsWith("#")){const t=e.href.slice(1);return d.jsx(qe,{component:"button",variant:"caption",onClick:()=>{var n;(n=document.getElementById(t))==null||n.scrollIntoView({behavior:"smooth"})},children:e.tokens.map((n,r)=>d.jsx(B,{token:n},r))})}else return d.jsx(qe,{href:e.href,children:e.tokens.map((t,n)=>d.jsx(B,{token:t},n))})}case"strong":{const e=o.token;return d.jsx("strong",{children:e.tokens.map((t,n)=>d.jsx(B,{token:t},n))})}case"em":{const e=o.token;return d.jsx("em",{children:e.tokens.map((t,n)=>d.jsx(B,{token:t},n))})}case"codespan":{const e=o.token;return e.text.startsWith("!qrcode:")?d.jsx(ir,{content:e.text.slice(8)}):d.jsx(Lt,{component:"span",variant:"outlined",color:"secondary",size:"small",label:H(e.text)})}case"br":return d.jsx("br",{});case"del":{const e=o.token;return d.jsx("del",{children:e.tokens.map((t,n)=>d.jsx(B,{token:t},n))})}}return d.jsx(d.Fragment,{})}function xr(o){const[e,t]=le.useState([]);return le.useEffect(()=>{if(o.text!==void 0){const n=y.lexer(o.text,{gfm:!0});t(n)}else o.url&&fetch(o.url).then(n=>{n.ok&&n.text().then(r=>{const s=y.lexer(r,{gfm:!0});t(s)})})},[o.text,o.url]),d.jsx($t,{className:"markdown-body",sx:o.sx,children:e.map((n,r)=>d.jsx(B,{token:n},r))})}export{xr as M,wr as p};
