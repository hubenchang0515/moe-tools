import{u,a as j,b as g,r as w,R as y,j as e,T as l,B as k}from"./index-D2u2bmMC.js";import{A as C}from"./AppCard-QdFX4f5D.js";import{C as v}from"./Container-rY8HOSgZ.js";import{S as d}from"./Stack-qf5fqwBl.js";import{C as S}from"./Chip-C7dGrcvg.js";import{D as b}from"./Divider-CFoIxyjm.js";import{G as h}from"./Grid2-Bl7pkkn2.js";import"./useThemeProps-4KesmPDQ.js";import"./dividerClasses-U1cm3NDm.js";function U(){var m;const{t:r}=u(),x=j(),i=new URLSearchParams(x.search).get("text")??"",n=Array.from(new Set(i.toLowerCase().split(/[,，;；\s]+/))),p=g();i.trim()===""&&p({pathname:"/"}),w.useEffect(()=>{var s;document.title=`${r("title")} - ${r("pages.search")}`,(s=document.querySelector('meta[name="description"]'))==null||s.setAttribute("content",r("description.base"))},[r]);const c=[];for(const s of y){const t={name:s.name,apps:[]};for(const a of s.apps)for(const o of n)if((m=a.keywords)!=null&&m.includes(o)){t.apps.push(a);break}t.apps.length>0&&c.push(t)}let f=0;return e.jsx(v,{maxWidth:"xl",sx:{marginY:2},children:e.jsxs(d,{spacing:2,children:[e.jsx(l,{variant:"overline",children:r("search.keywords")}),e.jsx(k,{display:"flex",gap:1,flexWrap:"wrap",children:n.map((s,t)=>e.jsx(S,{label:s,onDelete:()=>{const a=[...n];a.splice(t,1);const o=a.join(",");p({pathname:"/search",search:`?text=${o}`})}},t))}),c.map((s,t)=>e.jsxs(d,{spacing:2,children:[e.jsx(l,{variant:"h6",children:r(s.name)}),e.jsx(b,{}),e.jsx(h,{container:!0,spacing:2,children:s.apps.map((a,o)=>e.jsx(h,{size:{xs:12,md:6,lg:3},children:e.jsx(C,{name:r(a.name),url:a.url,image:`https://www.dmoe.cc/random.php?key=${f++}`},o)},o))})]},t))]})})}export{U as default};
