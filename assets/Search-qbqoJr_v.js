import{u as f,a as j,b as g,r as w,R as y,j as s,T as m}from"./index-PcJnEKKG.js";import{A as k}from"./AppCard-wOwGXcEw.js";import{C}from"./Container-Ba78owpP.js";import{S as i}from"./Stack-BV0SY5WR.js";import{C as v}from"./Chip-BRWOfREa.js";import{D as S}from"./Divider-Dyx-fdHy.js";import{G as l}from"./Grid2-D-xLa4jT.js";import"./useThemeProps-BiPfo8gw.js";import"./dividerClasses-C1VLM-Ey.js";function U(){var p;const{t:a}=f(),d=j(),h=new URLSearchParams(d.search).get("text")??"",n=Array.from(new Set(h.toLowerCase().split(/[,，;；\s]+/))),u=g();w.useEffect(()=>{var e;document.title=`${a("title")} - ${a("pages.search")}`,(e=document.querySelector('meta[name="description"]'))==null||e.setAttribute("content",a("description.base"))},[a]);const c=[];for(const e of y){const r={name:e.name,apps:[]};for(const t of e.apps)for(const o of n)if((p=t.keywords)!=null&&p.includes(o)){r.apps.push(t);break}r.apps.length>0&&c.push(r)}let x=0;return s.jsx(C,{maxWidth:"xl",sx:{marginY:2},children:s.jsxs(i,{spacing:2,children:[s.jsx(m,{variant:"overline",children:a("search.keywords")}),s.jsx(i,{direction:"row",spacing:2,sx:{flexWrap:"wrap"},children:n.map((e,r)=>s.jsx(v,{label:e,onDelete:()=>{const t=[...n];t.splice(r,1);const o=t.join(",");u({pathname:"/search",search:`?text=${o}`})}},r))}),c.map((e,r)=>s.jsxs(i,{spacing:2,children:[s.jsx(m,{variant:"h6",children:a(e.name)}),s.jsx(S,{}),s.jsx(l,{container:!0,spacing:2,children:e.apps.map((t,o)=>s.jsx(l,{size:{xs:12,md:6,lg:3},children:s.jsx(k,{name:a(t.name),url:t.url,image:`https://www.dmoe.cc/random.php?key=${x++}`},o)},o))})]},r))]})})}export{U as default};
