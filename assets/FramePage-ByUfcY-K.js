import{b as u,r as o,j as t,B as l,c as f,F as x,d as g,e as m}from"./index-BWtQfFBG.js";import{M as j}from"./MessageBox-BiBdyhDq.js";import"./Dialog-Cjjk-QqK.js";import"./Alert-ByE0Lq3o.js";function v(e){const n=new URL(e.url),d=u();n.searchParams.set("theme",d.palette.mode);const s=o.useRef(null),i=o.useRef(null),[r,a]=o.useState();return o.useEffect(()=>{r&&(r.onclick=()=>{var c;(c=s.current)==null||c.click()})},[r]),t.jsxs(l,{sx:{width:"100%",height:"100%"},ref:s,children:[t.jsx("iframe",{src:n.toString(),style:{display:"block",border:0,width:"100%",height:"100%"},ref:i,onLoad:()=>{var c,h;return a((h=(c=i.current)==null?void 0:c.contentDocument)==null?void 0:h.body)}}),e.children]})}const b=f(t.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Message");function y(e){return t.jsxs(l,{sx:e.sx,children:[t.jsx(x,{color:e.severity,sx:e.fabSx,onClick:e.onOpen,children:e.icon??t.jsx(b,{})}),t.jsx(j,{title:e.title,content:e.content,variant:e.variant,severity:e.severity,open:e.open,onClose:e.onClose,children:t.jsx(l,{children:e.children})})]})}function k(e){const{t:n}=g(),d=new URL(e.url),s=window.location.origin===d.origin?"info":"warning",i=()=>["warning","error"].includes(s),[r,a]=o.useState(i());return o.useEffect(()=>a(i()),[e.url,s]),t.jsx(l,{sx:{width:"100%",height:"100%"},children:t.jsx(v,{url:e.url,children:t.jsx(y,{open:r,title:n("common.notice"),content:n("frame.warning-message"),severity:s,variant:"standard",onOpen:()=>a(!0),sx:{position:"relative",top:0,bottom:0,left:0,right:0},fabSx:{position:"absolute",left:32,bottom:32,zIndex:10},children:t.jsxs(l,{display:"flex",gap:1,justifyContent:"flex-end",children:[t.jsx(m,{variant:"contained",color:s,href:d.toString(),target:"_blank",children:n("frame.go-to-source-page")}),t.jsx(m,{variant:"text",color:"inherit",onClick:()=>a(!1),children:n("common.close")})]})})})})}export{k as default};
