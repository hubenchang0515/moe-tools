import{x as f,r as s,j as t,B as l,h,F as x,u as g,y as u}from"./index-By5e5jYw.js";import{M as j}from"./MessageBox-CXNpfAP4.js";import"./Dialog-C3APNSY7.js";import"./Modal-FxyvzOqw.js";import"./useSlot-CC702PmW.js";import"./Alert-CvqmlV9P.js";import"./Close-CdllSd3V.js";import"./AlertTitle-C-qQqDat.js";function y(e){const n=new URL(e.url),m=f();n.searchParams.set("theme",m.palette.mode);const o=s.useRef(null),r=s.useRef(null),[a,c]=s.useState();return s.useEffect(()=>{a&&(a.onclick=()=>{var i;(i=o.current)==null||i.click()})},[a]),t.jsxs(l,{sx:{width:"100%",height:"100%"},ref:o,children:[t.jsx("iframe",{src:n.toString(),style:{display:"block",border:0,width:"100%",height:"100%"},ref:r,onLoad:()=>{var i,d;return c((d=(i=r.current)==null?void 0:i.contentDocument)==null?void 0:d.body)}}),e.children]})}const v=h(t.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Message");function b(e){return t.jsxs(l,{sx:e.sx,children:[t.jsx(x,{color:e.severity,sx:e.fabSx,onClick:e.onOpen,children:e.icon??t.jsx(v,{})}),t.jsx(j,{title:e.title,content:e.content,variant:e.variant,severity:e.severity,open:e.open,onClose:e.onClose,children:t.jsx(l,{children:e.children})})]})}function F(e){const{t:n}=g(),m=new URL(e.url),o=window.location.origin===m.origin?"info":"warning",r=()=>["warning","error"].includes(o),[a,c]=s.useState(r());return s.useEffect(()=>c(r()),[e.url,o]),s.useEffect(()=>{var i;document.title=`${n("title")} - ${n(e.title)}`,(i=document.querySelector('meta[name="description"]'))==null||i.setAttribute("content",n(e.description))},[n,e.title,e.description]),t.jsx(l,{sx:{width:"100%",height:"100%"},children:t.jsx(y,{url:e.url,children:t.jsx(b,{open:a,title:n("common.notice"),content:n("frame.warning-message"),severity:o,variant:"standard",onOpen:()=>c(!0),sx:{position:"relative",top:0,bottom:0,left:0,right:0},fabSx:{position:"absolute",left:32,bottom:32,zIndex:10},children:t.jsxs(l,{display:"flex",gap:1,justifyContent:"flex-end",children:[t.jsx(u,{variant:"contained",color:o,href:m.toString(),target:"_blank",children:n("frame.go-to-source-page")}),t.jsx(u,{variant:"text",color:"inherit",onClick:()=>c(!1),children:n("common.close")})]})})})})}export{F as default};
