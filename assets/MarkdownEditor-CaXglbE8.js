import{c as O,g as q,s as b,A as ce,C as de,r as x,K as pe,a4 as se,j as r,e as T,v as f,f as W,q as ae,t as ie,p as $,d as Z,x as ne,a5 as ue,T as Q,G as ee,y as he,z as me,h as fe,u as ge,B as U,k as A,_ as te,I as xe,P as be}from"./index-Cv_cWu_z.js";import{p as ke,M as ve}from"./Markdown-B2sCgErj.js";import{M as we}from"./MessageBox-Dv000bEq.js";import{H as ye}from"./HighlightEditor-BYBP3enZ.js";import{C as Ce}from"./Container-CAyFyKLZ.js";import{S as re}from"./Stack-CoxA02oQ.js";import{u as Se}from"./Close-BSi3nUmM.js";import{A as oe}from"./Alert-D6qmSztc.js";import"./vs2015.min-B0zpXqTj.js";import"./Chip-CPuY5PC_.js";import"./Link-DH0nd6l9.js";import"./Divider-Dr986SWJ.js";import"./dividerClasses-M0kxLNOo.js";import"./Dialog-IYbXO3No.js";import"./Modal-DhWrxs-h.js";import"./useThemeProps-D2HFn-V3.js";function $e(e){return O("PrivateSwitchBase",e)}q("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const je=e=>{const{classes:t,checked:o,disabled:a,edge:i}=e,n={root:["root",o&&"checked",a&&"disabled",i&&`edge${f(i)}`],input:["input"]};return W(n,$e,t)},Pe=b(ce)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),Re=b("input",{shouldForwardProp:de})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Be=x.forwardRef(function(t,o){const{autoFocus:a,checked:i,checkedIcon:n,className:p,defaultChecked:l,disabled:g,disableFocusRipple:u=!1,edge:c=!1,icon:s,id:h,inputProps:m,inputRef:M,name:j,onBlur:P,onChange:R,onFocus:F,readOnly:G,required:z=!1,tabIndex:E,type:y,value:L,...H}=t,[B,D]=pe({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),k=se(),K=w=>{F&&F(w),k&&k.onFocus&&k.onFocus(w)},I=w=>{P&&P(w),k&&k.onBlur&&k.onBlur(w)},C=w=>{if(w.nativeEvent.defaultPrevented)return;const J=w.target.checked;D(J),R&&R(w,J)};let v=g;k&&typeof v>"u"&&(v=k.disabled);const le=y==="checkbox"||y==="radio",V={...t,checked:B,disabled:v,disableFocusRipple:u,edge:c},_=je(V);return r.jsxs(Pe,{component:"span",className:T(_.root,p),centerRipple:!0,focusRipple:!u,disabled:v,tabIndex:null,role:void 0,onFocus:K,onBlur:I,ownerState:V,ref:o,...H,children:[r.jsx(Re,{autoFocus:a,checked:i,defaultChecked:l,className:_.input,disabled:v,id:le?h:void 0,name:j,onChange:C,readOnly:G,ref:M,required:z,ownerState:V,tabIndex:E,type:y,...y==="checkbox"&&L===void 0?{}:{value:L},...m}),B?n:s]})});function Me(e){return O("MuiCircularProgress",e)}q("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const S=44,X=ae`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Y=ae`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,Fe=typeof X!="string"?ie`
        animation: ${X} 1.4s linear infinite;
      `:null,ze=typeof Y!="string"?ie`
        animation: ${Y} 1.4s ease-in-out infinite;
      `:null,Ie=e=>{const{classes:t,variant:o,color:a,disableShrink:i}=e,n={root:["root",o,`color${f(a)}`],svg:["svg"],circle:["circle",`circle${f(o)}`,i&&"circleDisableShrink"]};return W(n,Me,t)},Le=b("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`color${f(o.color)}`]]}})($(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Fe||{animation:`${X} 1.4s linear infinite`}},...Object.entries(e.palette).filter(ne()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),De=b("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Ne=b("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.circle,t[`circle${f(o.variant)}`],o.disableShrink&&t.circleDisableShrink]}})($(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:ze||{animation:`${Y} 1.4s ease-in-out infinite`}}]}))),Te=x.forwardRef(function(t,o){const a=Z({props:t,name:"MuiCircularProgress"}),{className:i,color:n="primary",disableShrink:p=!1,size:l=40,style:g,thickness:u=3.6,value:c=0,variant:s="indeterminate",...h}=a,m={...a,color:n,disableShrink:p,size:l,thickness:u,value:c,variant:s},M=Ie(m),j={},P={},R={};if(s==="determinate"){const F=2*Math.PI*((S-u)/2);j.strokeDasharray=F.toFixed(3),R["aria-valuenow"]=Math.round(c),j.strokeDashoffset=`${((100-c)/100*F).toFixed(3)}px`,P.transform="rotate(-90deg)"}return r.jsx(Le,{className:T(M.root,i),style:{width:l,height:l,...P,...g},ownerState:m,ref:o,role:"progressbar",...R,...h,children:r.jsx(De,{className:M.svg,ownerState:m,viewBox:`${S/2} ${S/2} ${S} ${S}`,children:r.jsx(Ne,{className:M.circle,style:j,ownerState:m,cx:S,cy:S,r:(S-u)/2,fill:"none",strokeWidth:u})})})});function Ee(e){return O("MuiFormControlLabel",e)}const N=q("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Ue=e=>{const{classes:t,disabled:o,labelPlacement:a,error:i,required:n}=e,p={root:["root",o&&"disabled",`labelPlacement${f(a)}`,i&&"error",n&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",i&&"error"]};return W(p,Ee,t)},Ae=b("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${N.label}`]:t.label},t.root,t[`labelPlacement${f(o.labelPlacement)}`]]}})($(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${N.disabled}`]:{cursor:"default"},[`& .${N.label}`]:{[`&.${N.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),Oe=b("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})($(({theme:e})=>({[`&.${N.error}`]:{color:(e.vars||e).palette.error.main}}))),qe=x.forwardRef(function(t,o){const a=Z({props:t,name:"MuiFormControlLabel"}),{checked:i,className:n,componentsProps:p={},control:l,disabled:g,disableTypography:u,inputRef:c,label:s,labelPlacement:h="end",name:m,onChange:M,required:j,slots:P={},slotProps:R={},value:F,...G}=a,z=se(),E=g??l.props.disabled??(z==null?void 0:z.disabled),y=j??l.props.required,L={disabled:E,required:y};["checked","name","onChange","value","inputRef"].forEach(v=>{typeof l.props[v]>"u"&&typeof a[v]<"u"&&(L[v]=a[v])});const H=ue({props:a,muiFormControl:z,states:["error"]}),B={...a,disabled:E,labelPlacement:h,required:y,error:H.error},D=Ue(B),k={slots:P,slotProps:{...p,...R}},[K,I]=Se("typography",{elementType:Q,externalForwardedProps:k,ownerState:B});let C=s;return C!=null&&C.type!==Q&&!u&&(C=r.jsx(K,{component:"span",...I,className:T(D.label,I==null?void 0:I.className),children:C})),r.jsxs(Ae,{className:T(D.root,n),ownerState:B,ref:o,...G,children:[x.cloneElement(l,L),y?r.jsxs("div",{children:[C,r.jsxs(Oe,{ownerState:B,"aria-hidden":!0,className:D.asterisk,children:["â€‰","*"]})]}):C]})});function We(e){return O("MuiSwitch",e)}const d=q("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Ge=e=>{const{classes:t,edge:o,size:a,color:i,checked:n,disabled:p}=e,l={root:["root",o&&`edge${f(o)}`,`size${f(a)}`],switchBase:["switchBase",`color${f(i)}`,n&&"checked",p&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},g=W(l,We,t);return{...t,...g}},He=b("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${f(o.edge)}`],t[`size${f(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${d.thumb}`]:{width:16,height:16},[`& .${d.switchBase}`]:{padding:4,[`&.${d.checked}`]:{transform:"translateX(16px)"}}}}]}),Ke=b(Be,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${d.input}`]:t.input},o.color!=="default"&&t[`color${f(o.color)}`]]}})($(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${d.checked}`]:{transform:"translateX(20px)"},[`&.${d.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${d.checked} + .${d.track}`]:{opacity:.5},[`&.${d.disabled} + .${d.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${d.input}`]:{left:"-100%",width:"300%"}})),$(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ee(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(ne(["light"])).map(([t])=>({props:{color:t},style:{[`&.${d.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ee(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${d.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?he(e.palette[t].main,.62):me(e.palette[t].main,.55)}`}},[`&.${d.checked} + .${d.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),Ve=b("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})($(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),Xe=b("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})($(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Ye=x.forwardRef(function(t,o){const a=Z({props:t,name:"MuiSwitch"}),{className:i,color:n="primary",edge:p=!1,size:l="medium",sx:g,...u}=a,c={...a,color:n,edge:p,size:l},s=Ge(c),h=r.jsx(Xe,{className:s.thumb,ownerState:c});return r.jsxs(He,{className:T(s.root,i),sx:g,ownerState:c,children:[r.jsx(Ke,{type:"checkbox",icon:h,checkedIcon:h,ref:o,ownerState:c,...u,classes:{...s,root:s.switchBase}}),r.jsx(Ve,{className:s.track,ownerState:c})]})}),Ze=fe(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");function ht(){const{t:e}=ge(),[t,o]=x.useState(""),[a,i]=x.useState(""),[n,p]=x.useState(!0),[l,g]=x.useState(!1),[u,c]=x.useState(!1);return x.useEffect(()=>{n&&i(t)},[t]),r.jsxs(Ce,{maxWidth:"xl",sx:{width:"100%",height:"100%",paddingY:2,gap:2,flexWrap:"wrap"},children:[r.jsxs(U,{sx:{display:"flex",flexGrow:1,gap:2,alignContent:"center",flexWrap:"wrap"},children:[r.jsxs(re,{spacing:2,sx:{flexGrow:1,flexShrink:1,flexBasis:1,minWidth:"300px"},children:[r.jsxs(U,{display:"flex",gap:2,children:[r.jsxs(A,{variant:"contained",component:"label",children:[e("common.open"),r.jsx("input",{type:"file",accept:".md",style:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",width:0,height:0},onChange:async s=>{if(s.target.files&&s.target.files.length>0){const h=s.target.files[0];o(await h.text()),s.target.value=""}}})]}),r.jsx(A,{variant:"contained",onClick:()=>{const s=new Blob([t],{type:"text/plain"}),h=URL.createObjectURL(s),m=document.createElement("a");m.href=h,m.download="file.md",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)},children:e("common.save")}),r.jsx(U,{flexGrow:1}),r.jsx(qe,{label:e("markdown-editor.auto-refresh"),control:r.jsx(te,{arrow:!0,title:e("markdown-editor.lag-warning"),children:r.jsx(Ye,{checked:n,onChange:s=>p(s.target.checked)})})})]}),r.jsxs(oe,{severity:"info",children:[" ",e("markdown-editor.edit")," "]}),r.jsx(ye,{language:"markdown",text:t,onChange:s=>o(s)})]}),r.jsxs(re,{spacing:2,sx:{flexGrow:1,flexShrink:1,flexBasis:1,minWidth:"300px"},children:[r.jsxs(U,{display:"flex",gap:2,children:[r.jsx(A,{variant:"contained",onClick:()=>{i(t)},children:e("common.refresh")}),r.jsx(A,{disabled:typeof window.print!="function",variant:"contained",startIcon:u&&r.jsx(Te,{size:"16px",color:"inherit"}),onClick:()=>{const s=document.getElementById("iframe-to-export");c(!0),ke(a,s).finally(()=>{c(!1)})},children:e("common.export")}),r.jsx(te,{arrow:!0,title:e("markdown-editor.info"),children:r.jsx(xe,{onClick:()=>g(!0),children:r.jsx(Ze,{})})})]}),r.jsxs(oe,{severity:"info",children:[" ",e("markdown-editor.preview")," "]}),r.jsx(be,{sx:{flexGrow:1,flexShrink:1,flexBasis:1,minWidth:"200px",whiteSpace:"wrap",px:1},square:!0,children:r.jsx(ve,{text:a,forceRefresh:!0})})]})]}),r.jsx("iframe",{id:"iframe-to-export",style:{display:"none"}}),r.jsx(we,{open:l,severity:"info",onClose:()=>g(!1),title:e("common.notice"),content:e("markdown-editor.info")})]})}export{ht as default};
