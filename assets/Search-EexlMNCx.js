import{u as j,a as g,b as w,r as y,R as k,j as e,T as l,B as v,D as C}from"./index-DRgue1G2.js";import{A as d}from"./AppCard-l1Bgn7-H.js";import{C as S}from"./Container-DwwD73az.js";import{S as h}from"./Stack-DSv41Dyu.js";import{C as b}from"./Chip-300q-XY_.js";import{G as i}from"./Grid2-DGvQO5bF.js";import"./useThemeProps-CjDxdUWu.js";function z(){const{t}=j(),x=g(),p=new URLSearchParams(x.search).get("text")??"",n=Array.from(new Set(p.toLowerCase().split(/[,，;；\s]+/))),c=w();y.useEffect(()=>{var s;document.title=`${t("title")} - ${t("pages.search")}`,(s=document.querySelector('meta[name="description"]'))==null||s.setAttribute("content",t("description.base"))},[t]),p.trim()===""&&c({pathname:"/"});const m=[];for(const s of k){const a={name:s.name,apps:[]};for(const r of s.apps)e:for(const o of n)for(const u of r.keywords??[])if(u.includes(o)){a.apps.push(r);break e}a.apps.length>0&&m.push(a)}let f=0;return e.jsx(S,{maxWidth:"xl",sx:{marginY:2},children:e.jsxs(h,{spacing:2,children:[e.jsx(l,{variant:"overline",children:t("search.keywords")}),e.jsx(v,{display:"flex",gap:1,flexWrap:"wrap",children:n.map((s,a)=>e.jsx(b,{label:s,onDelete:()=>{const r=[...n];r.splice(a,1);const o=r.join(",");c({pathname:"/search",search:`?text=${o}`})}},a))}),m.map((s,a)=>e.jsxs(h,{spacing:2,children:[e.jsx(l,{variant:"h6",children:t(s.name)}),e.jsx(C,{}),e.jsx(i,{container:!0,spacing:2,children:s.apps.map((r,o)=>e.jsx(i,{size:{xs:12,md:6,lg:3},children:e.jsx(d,{name:t(r.name),url:r.url,image:`https://www.dmoe.cc/random.php?key=${f++}`},o)},o))})]},a)),e.jsx(i,{size:{xs:12,md:6,lg:3},style:{visibility:"hidden"},children:e.jsx(d,{name:"",url:"",image:""})})]})})}export{z as default};
