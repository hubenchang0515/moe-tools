import{u as f,a as j,b as g,r as w,R as y,j as e,T as l,B as k,D as C}from"./index-BOGjZ6RB.js";import{A as S}from"./AppCard-Bm0t_QRt.js";import{C as v}from"./Container-Db_Whtj7.js";import{S as h}from"./Stack-XjAuftgp.js";import{C as b}from"./Chip-B1FO-kS2.js";import{G as d}from"./Grid2-Bdhzanke.js";import"./useThemeProps-Cby_1JCo.js";function B(){var m;const{t:r}=f(),x=j(),i=new URLSearchParams(x.search).get("text")??"",n=Array.from(new Set(i.toLowerCase().split(/[,，;；\s]+/))),p=g();w.useEffect(()=>{var s;document.title=`${r("title")} - ${r("pages.search")}`,(s=document.querySelector('meta[name="description"]'))==null||s.setAttribute("content",r("description.base"))},[r]),i.trim()===""&&p({pathname:"/"});const c=[];for(const s of y){const a={name:s.name,apps:[]};for(const t of s.apps)for(const o of n)if((m=t.keywords)!=null&&m.includes(o)){a.apps.push(t);break}a.apps.length>0&&c.push(a)}let u=0;return e.jsx(v,{maxWidth:"xl",sx:{marginY:2},children:e.jsxs(h,{spacing:2,children:[e.jsx(l,{variant:"overline",children:r("search.keywords")}),e.jsx(k,{display:"flex",gap:1,flexWrap:"wrap",children:n.map((s,a)=>e.jsx(b,{label:s,onDelete:()=>{const t=[...n];t.splice(a,1);const o=t.join(",");p({pathname:"/search",search:`?text=${o}`})}},a))}),c.map((s,a)=>e.jsxs(h,{spacing:2,children:[e.jsx(l,{variant:"h6",children:r(s.name)}),e.jsx(C,{}),e.jsx(d,{container:!0,spacing:2,children:s.apps.map((t,o)=>e.jsx(d,{size:{xs:12,md:6,lg:3},children:e.jsx(S,{name:r(t.name),url:t.url,image:`https://www.dmoe.cc/random.php?key=${u++}`},o)},o))})]},a))]})})}export{B as default};
